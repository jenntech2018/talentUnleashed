{% extends 'landing/base.html' %}
{% load static %}
{% block title %}Portland Brings Talent â€“ Register{% endblock %}

{% block content %}
 <div class="page-container">
  <h1>ðŸŽ¤ Register as a Contestant</h1>
  <p>Submit your talent and take the stage. We can't wait to see what you bring!</p>
<form method="post" action="{% url 'register' %}" class="contact-form" enctype="multipart/form-data">
  {% csrf_token %}
  {{ form.as_p }}
   <div id="groupSizeField" style="display: none;">
    {{ form.group_size.label_tag }} {{ form.group_size }}
  </div>
{% if form.errors %}
  <ul class="errorlist">
    {% for field in form %}
      {% for error in field.errors %}
        <li>{{ field.label }}: {{ error }}</li>
      {% endfor %}
    {% endfor %}
    {% for error in form.non_field_errors %}
      <li>{{ error }}</li>
    {% endfor %}
  </ul>
{% endif %}
{{ form.video_submission.label_tag }}
{{ form.video_submission }}


  <button type="submit">Submit</button>
</form>

    <h3>&copy; 2025 Portland Brings Talent</h3>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toggle = document.getElementById("id_is_group");
    const groupField = document.getElementById("groupSizeField");

    function toggleGroupField() {
      if (groupField && toggle) {
        groupField.style.display = toggle.checked ? "block" : "none";
      }
    }

    if (toggle) {
      toggle.addEventListener("change", toggleGroupField);
      toggleGroupField(); // run on load
    }
  });
</script>
{% endblock %}